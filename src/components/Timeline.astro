---
// Timeline component receives valid children as slots
interface Props {
  status?: 'Planning' | 'On-going' | 'Completed';
}
const { status } = Astro.props;
const marginBottom = status === 'On-going' ? 'mb-20' : 'mb-8';
---
<div class={`relative border-l-2 border-mono-200 dark:border-mono-700 ml-4 mt-8 space-y-8 pb-6 ${marginBottom}`}>
  <slot />
  
  {status === 'On-going' && (
     <div class="absolute top-full flex items-center" style="left: -9px; margin-top: -8px;">
        <div class="w-4 h-4 rounded-full bg-blue-500 border-4 border-white dark:border-mono-900 z-10 animate-pulse flex-shrink-0"></div>
        <div class="w-16 border-t-4 border-dashed border-blue-400 ml-1"></div>
        <span class="text-xl font-bold text-blue-600 dark:text-blue-400 ml-2 bg-white dark:bg-mono-900 px-1 whitespace-nowrap">Dev Continues...</span>
     </div>
  )}

  {status === 'Completed' && (
      <div class="absolute top-full" style="left: -1px; transform: translateX(-50%); margin-top: -8px;">
         <div class="w-4 h-4 rounded-full bg-green-500 border-4 border-white dark:border-mono-900 flex items-center justify-center">
            <svg class="w-2 h-2 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7" />
            </svg>
         </div>
      </div>
  )}
</div>
